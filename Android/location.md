# Location

Android provide location services by android.location class.

To use this api is throw <span style="color:green"> LocationManager </span> class. You can get a instance by __getSystemService(Context.LOCATION_SERVICE)__.

## LocationManager

This class provide access to the system location services.

It is necessary at least one this permission:
* ACCESS_COARSE_LOCATION : Approximate location - <span style="color:red">DANGEROUS</span>

* ACCESS_FINE_LOCATION : precise location - <span style="color:red">DANGEROUS</span>

You can get location using __getLastKnownLocation(String provider)__, this function return a Location indicating the data from the last known location fix obtained from the given provider _(could be out-of-date)_.

## Location strategies

The Provides can be:
* GPS_PROVIDER: This provider determines location using satellites.
* NETWORK_PROVIDER: This provider determines location based on availability of cell tower and WiFi access points.
* PASSIVE_PROVIDER: This provider will return locations generated by other providers.

Knowing where the user is allows your application to be smarter and deliver better information to the user. When developing a location-aware application for Android, you can utilize GPS and Android's Network Location Provider to acquire the user location. Although GPS is most accurate, it only works outdoors, it quickly consumes battery power, and doesn't return the location as quickly as users want. Android's Network Location Provider determines user location using cell tower and Wi-Fi signals, providing location information in a way that works indoors and outdoors, responds faster, and uses less battery power. To obtain the user location in your application, you can use both GPS and the Network Location Provider, or just one.

Getting user location in Android works by means of callback. You indicate that you'd like to receive location updates from the LocationManager by calling requestLocationUpdates(), passing it a LocationListener. Your LocationListener must implement several callback methods that the LocationManager calls when the user location changes or when the status of the service changes.

You can get information about provider with __getProvider(String name)__.


You can get best provider through __getBestProvider(Criteria criteria, boolean enabledOnly)__. The Criteria could be:
- power requirement
- accuracy
- bearing
- speed
- altitude

## Location Background Limits

Trying reduce power consume Android 8+ limits the frequency that apps can get user location in background.

If needs get location updates with more frequency you can:
* Update the apps to foreground.
* Put a service in foreground.
* Use elements of GeofencingApi (google play services lib).
* Get location from others apps.
